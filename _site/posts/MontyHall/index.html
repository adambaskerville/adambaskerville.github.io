<!doctype html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="theme-color" media="(prefers-color-scheme: light)" content="#f7f7f7"><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#1b1b1e"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black-translucent"><meta name="viewport" content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover" ><meta name="generator" content="Jekyll v4.4.1" /><meta property="og:title" content="T&gt;T: Behind the Doors of the Monty Hall Puzzle" /><meta property="og:locale" content="en" /><meta name="description" content="We explore the counterintuitive outcomes of the Month Hall problem." /><meta property="og:description" content="We explore the counterintuitive outcomes of the Month Hall problem." /><link rel="canonical" href="https://adambaskerville.github.io/posts/MontyHall/" /><meta property="og:url" content="https://adambaskerville.github.io/posts/MontyHall/" /><meta property="og:site_name" content="Dr Adam Luke Baskerville" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-25T00:00:00+00:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="T&gt;T: Behind the Doors of the Monty Hall Puzzle" /><meta name="twitter:site" content="@SciBaskerville" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2024-01-21T15:22:50+00:00","datePublished":"2022-03-25T00:00:00+00:00","description":"We explore the counterintuitive outcomes of the Month Hall problem.","headline":"T&gt;T: Behind the Doors of the Monty Hall Puzzle","mainEntityOfPage":{"@type":"WebPage","@id":"https://adambaskerville.github.io/posts/MontyHall/"},"url":"https://adambaskerville.github.io/posts/MontyHall/"}</script><title>T>T: Behind the Doors of the Monty Hall Puzzle | Dr Adam Luke Baskerville</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Dr Adam Luke Baskerville"><meta name="application-name" content="Dr Adam Luke Baskerville"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="/assets/css/jekyll-theme-chirpy.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tocbot@4.32.2/dist/tocbot.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/glightbox@3.3.0/dist/css/glightbox.min.css"> <script src="/assets/js/dist/theme.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js,npm/loading-attribute-polyfill@2.1.1/dist/loading-attribute-polyfill.umd.min.js,npm/glightbox@3.3.0/dist/js/glightbox.min.js,npm/clipboard@2.0.11/dist/clipboard.min.js,npm/dayjs@1.11.13/dayjs.min.js,npm/dayjs@1.11.13/locale/en.js,npm/dayjs@1.11.13/plugin/relativeTime.js,npm/dayjs@1.11.13/plugin/localizedFormat.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="/assets/js/data/mathjax.js"></script> <script async src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-chtml.js"></script> <script> document.addEventListener('DOMContentLoaded', () => { const pv = document.getElementById('pageviews'); if (pv !== null) { const uri = location.pathname.replace(/\/$/, ''); const url = `https://albaskerville.goatcounter.com/counter/${encodeURIComponent(uri)}.json`; fetch(url) .then((response) => response.json()) .then((data) => { const count = data.count.replace(/\D/g, ''); pv.innerText = new Intl.NumberFormat().format(count); }) .catch((error) => { pv.innerText = '1'; }); } }); </script> <script defer src="/app.min.js?baseurl=&register=true" ></script> <script async src="https://gc.zgo.at/count.js" data-goatcounter="https://albaskerville.goatcounter.com/count" ></script><body><aside aria-label="Sidebar" id="sidebar" class="d-flex flex-column align-items-end"><header class="profile-wrapper"> <a href="/" id="avatar" class="rounded-circle"><img src="/assets/img/Baskerville_Bletchley_Crop.jpg" width="112" height="112" alt="avatar" onerror="this.style.display='none'"></a> <a class="site-title d-block" href="/">Dr Adam Luke Baskerville</a><p class="site-subtitle fst-italic mb-0">Quantum Physicist <a href=https://www.kvantify.com/>@Kvantify</a></p></header><nav class="flex-column flex-grow-1 w-100 ps-0"><ul class="nav"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info"></i> <span>ABOUT</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive"></i> <span>T>T</span> </a><li class="nav-item"> <a href="/presentations/" class="nav-link"> <i class="fa-fw fas fa-newspaper"></i> <span>PRESENTATIONS</span> </a><li class="nav-item"> <a href="/progchem/" class="nav-link"> <i class="fa-fw fas fa-newspaper"></i> <span>PROGRAMMING COURSE</span> </a><li class="nav-item"> <a href="/publications/" class="nav-link"> <i class="fa-fw fas fa-newspaper"></i> <span>PUBLICATIONS</span> </a><li class="nav-item"> <a href="/painting/" class="nav-link"> <i class="fa-fw fas fa-newspaper"></i> <span>PAINTING</span> </a><li class="nav-item"> <a href="/astrophotography/" class="nav-link"> <i class="fa-fw fas fa-newspaper"></i> <span>ASTROPHOTOGRAPHY</span> </a><li class="nav-item"> <a href="/astro/" class="nav-link"> <i class="fa-fw fas fa-newspaper"></i> <span>ASTROPITOGRAPHY</span> </a></ul></nav><div class="sidebar-bottom d-flex flex-wrap align-items-center w-100"> <button type="button" class="btn btn-link nav-link" aria-label="Switch Mode" id="mode-toggle"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/adambaskerville" aria-label="github" target="_blank" rel="noopener noreferrer" > <i class="fab fa-github"></i> </a> <a href="https://twitter.com/SciBaskerville" aria-label="twitter" target="_blank" rel="noopener noreferrer" > <i class="fa-brands fa-x-twitter"></i> </a> <a href="javascript:location.href = 'mailto:' + ['adamlukebaskerville','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></aside><div id="main-wrapper" class="d-flex justify-content-center"><div class="container d-flex flex-column px-xxl-5"><header id="topbar-wrapper" class="flex-shrink-0" aria-label="Top Bar"><div id="topbar" class="d-flex align-items-center justify-content-between px-lg-3 h-100" ><nav id="breadcrumb" aria-label="Breadcrumb"> <span> <a href="/">Home</a> </span> <span>T>T: Behind the Doors of the Monty Hall Puzzle</span></nav><button type="button" id="sidebar-trigger" class="btn btn-link" aria-label="Sidebar"> <i class="fas fa-bars fa-fw"></i> </button><div id="topbar-title"> Post</div><button type="button" id="search-trigger" class="btn btn-link" aria-label="Search"> <i class="fas fa-search fa-fw"></i> </button> <search id="search" class="align-items-center ms-3 ms-lg-0"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..." > </search> <button type="button" class="btn btn-link text-decoration-none" id="search-cancel">Cancel</button></div></header><div class="row flex-grow-1"><main aria-label="Main Content" class="col-12 col-lg-11 col-xl-9 px-md-4"><article class="px-1" data-toc="false"><header><h1 data-toc-skip>T>T: Behind the Doors of the Monty Hall Puzzle</h1><div class="post-meta text-muted"> <span> Posted <time data-ts="1648166400" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Mar 25, 2022 </time> </span> <span> Updated <time data-ts="1705850570" data-df="ll" data-bs-toggle="tooltip" data-bs-placement="bottom" > Jan 21, 2024 </time> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://twitter.com/SciBaskerville">Adam Baskerville</a> </em> </span><div> <span> <em id="pageviews"> <i class="fas fa-spinner fa-spin small"></i> </em> views </span> <span class="readtime" data-bs-toggle="tooltip" data-bs-placement="bottom" title="1701 words" > <em>9 min</em> read</span></div></div></div></header><div class="content"><h1 id="try-the-code-yourself">Try the code yourself!</h1><p>Click the following button to launch an ipython notebook on Google Colab which implements the code developed in this post:</p><p><a href="https://colab.research.google.com/github/adambaskerville/adambaskerville.github.io/blob/master/_posts/MontyHallCode/MontyHall.ipynb" class="img-link shimmer" ><img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab" loading="lazy"></a></p><p>The Monty Hall problem poses a probability puzzle that, at first glance, appears deceptively simple but unfolds into a solution that defies intuition. Named after the host of the television game show “Let’s Make a Deal,” this problem challenges our understanding of probability. In this post, we will introduce and summarise the Monty Hall problem, explain its rules, and write a short Python code to simulate its outcomes.</p><p><strong>The Problem</strong></p><ol><li>You are a contestant on a game show.<li>There are three doors in front of you. Behind one of them is a valuable prize (e.g., a car), and behind the other two are less desirable items (e.g., goats).<li>You choose one of the doors, but you don’t open it just yet.<li>The game show host, Monty Hall, who knows what is behind each door, opens one of the remaining two doors to reveal a less desirable item (a goat).<li>Now, you have a choice: stick with your initial choice or switch to the other unopened door.</ol><p>Quite frankly I would love to win a goat but for the purposes of this conversation we will assume the reader has slightly loftier aspirations than becoming the proud owner of a bleating lawn mower.</p><p>It appears counterintuitive but your best option is to <strong>switch</strong> to the unopened door. The choice masquerades as a 50:50 chance so it feels like there should be no advantage in switching doors. Even <a href="https://www.wired.com/2014/11/monty-hall-erdos-limited-minds/">Paul Erdős</a> one of the most prolific mathematicians working in probability theory took time to understand the solution.</p><p>Instead of delving into the mathematical details, which are available <a href="https://en.wikipedia.org/wiki/Monty_Hall_problem">elsewhere on the internet</a>, we’ll employ Python to compute the solution. This involves creating a simulation to model the Monty Hall problem, where we calculate the probabilities of winning under the staying and switching strategies. Taking it a step further, we’ll introduce additional doors to the problem, examining their impact on the overall probability.</p><p>First we tackle the standard Monty Hall problem with three doors which has been implemented in the <code class="language-plaintext highlighter-rouge">monty_hall_simulation</code> function below. The comments explain the logic behind the implementation.</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Tuple</span>
<span class="kn">import</span> <span class="n">random</span>

<span class="k">def</span> <span class="nf">monty_hall_simulation</span><span class="p">(</span><span class="n">num_simulations</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
    <span class="sh">"""</span><span class="s">
    Run n simulations of the monty hall problem and record the number of wins
    by sticking with the initial choice, or switching.

    Args:
        num_simulations (int): The number of games to play

    Returns:
        Tuple[int, int]: The number of wins when sticking and switching.
    </span><span class="sh">"""</span>
    <span class="n">stick_wins</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">switch_wins</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">num_simulations</span><span class="p">):</span>
        <span class="c1"># simulate the initial choice
</span>        <span class="n">choices</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">goat</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">goat</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">car</span><span class="sh">'</span><span class="p">]</span>

        <span class="c1"># shuffle the order of the choices
</span>        <span class="n">random</span><span class="p">.</span><span class="nf">shuffle</span><span class="p">(</span><span class="n">choices</span><span class="p">)</span>

        <span class="c1"># make a choice, i.e., select a door
</span>        <span class="n">initial_choice</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="nf">choice</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">])</span>
        
        <span class="c1"># now Monty opens a door with a goat
</span>        <span class="c1"># we need to find the doors with goats behind them so we filter out the door
</span>        <span class="c1"># if it has the car behind it it has a goat behind it
</span>        <span class="n">remaining_choices</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">initial_choice</span> <span class="ow">and</span> <span class="n">choices</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">goat</span><span class="sh">'</span><span class="p">]</span>

        <span class="c1"># pick one of these doors with a goat behind it
</span>        <span class="n">monty_opens</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="nf">choice</span><span class="p">(</span><span class="n">remaining_choices</span><span class="p">)</span>
        
        <span class="c1"># simulate sticking with the initial choice
</span>        <span class="n">stick_wins</span> <span class="o">+=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">choices</span><span class="p">[</span><span class="n">initial_choice</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">car</span><span class="sh">'</span> <span class="k">else</span> <span class="mi">0</span>
        
        <span class="c1"># simulate switching to the other unopened door
</span>        <span class="n">switch_choices</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">initial_choice</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">monty_opens</span><span class="p">]</span>
        <span class="n">switch_wins</span> <span class="o">+=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">choices</span><span class="p">[</span><span class="n">switch_choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">car</span><span class="sh">'</span> <span class="k">else</span> <span class="mi">0</span>

    <span class="k">return</span> <span class="n">stick_wins</span><span class="p">,</span> <span class="n">switch_wins</span>

<span class="c1"># set the number of Monty Hall simulations to run
</span><span class="n">num_simulations</span> <span class="o">=</span> <span class="mi">1000</span>

<span class="c1"># call the monty hall function
</span><span class="n">stick_wins</span><span class="p">,</span> <span class="n">switch_wins</span> <span class="o">=</span> <span class="nf">monty_hall_simulation</span><span class="p">(</span><span class="n">num_simulations</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Sticking with the initial choice wins </span><span class="si">{</span><span class="n">stick_wins</span><span class="si">}</span><span class="s"> out of </span><span class="si">{</span><span class="n">num_simulations</span><span class="si">}</span><span class="s"> times.</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Switching doors wins </span><span class="si">{</span><span class="n">switch_wins</span><span class="si">}</span><span class="s"> out of </span><span class="si">{</span><span class="n">num_simulations</span><span class="si">}</span><span class="s"> times.</span><span class="sh">"</span><span class="p">)</span>
</pre></table></code></div></div><p>Running the above code for 1000 simulations produces the following output. Note that if you run the code the numbers will not be identical to these as the output is stochastic.</p><div class="language-shell highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>Sticking with the initial choice wins 340 out of 1000 times.
Switching doors wins 660 out of 1000 times.
</pre></table></code></div></div><p>This shows that over the course of 1000 Monty Hall simulations; switching from your initial choice after Monty Hall opens the other door almost <strong>doubles</strong> your chances of winning the car. When we switched we won 660 out of 1000 times but if we stuck with our initial choice, we only won 340 times.</p><p>This aligns numerically with the precise mathematical solution, where the probability of winning by sticking with the initial choice is 1/3, while switching doors yields a winning probability of 2/3.</p><p>Why is this the case though? The trick in understanding the Monty Hall problem is that you are given <strong>extra information</strong> about the system after your initial choice:</p><ul><li><p>You have a 1/3 chance of guessing correctly on the first try. This means there is a 2/3 chance that you guessed incorrectly. Switching gives you that 2/3 chance of getting it correct.</p><li><p>Before Monty Hall opens a door, you have a higher chance of losing. If you are losing, then the host opens the other door, so switching means that you get the car and win.</p><li><p>If you are winning, then the host opens one of the goat doors, and switching means you’ll choose the other goat door and lose.</p><li><p>Switching will always turn a win into a loss, and a loss into a win.</p><li><p>You are more likely to be losing at the start so switching is more likely to turn a loss into a win than a win into a loss.</p></ul><p>Now we are going to generalise the Month Hall problem to the case of \(n\) doors. This only involves a small change to the <code class="language-plaintext highlighter-rouge">monty_hall_simulation</code> function we wrote above. We need to dynamically create the car and goats behind the specified number of doors. We only have a single car so can set the list of choices using</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">choices</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">goat</span><span class="sh">'</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">num_doors</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span><span class="sh">'</span><span class="s">car</span><span class="sh">'</span><span class="p">]</span>
</pre></table></code></div></div><p>where we subtract one from the number of specified doors and create a ‘goat’ list of this length. The car is then added onto the list which means the length of the <code class="language-plaintext highlighter-rouge">choices</code> list is equal to the number of specified doors.</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code fa-fw small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Tuple</span>
<span class="kn">import</span> <span class="n">random</span>

<span class="k">def</span> <span class="nf">monty_hall_simulation</span><span class="p">(</span><span class="n">num_simulations</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">num_doors</span><span class="p">:</span><span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Tuple</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">int</span><span class="p">]:</span>
	<span class="sh">"""</span><span class="s">
    Run n simulations of the monty hall problem using m doors and record the number of wins
    by sticking with the initial choice, or switching.

    Args:
        num_simulations (int): The number of games to play
        num_doors (int): The number of doors in the game
    Returns:
        Tuple[int, int]: The number of wins when sticking and switching.
    </span><span class="sh">"""</span>
    <span class="c1"># ensure there's at least three doors
</span>    <span class="k">if</span> <span class="n">num_doors</span> <span class="o">&lt;</span> <span class="mi">3</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sh">"</span><span class="s">There must be at least 3 doors for one car and two goats.</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="n">stick_wins</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">switch_wins</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">num_simulations</span><span class="p">):</span>
        <span class="c1"># initialize the doors with one car and (num_doors - 1) goats
</span>        <span class="n">choices</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">goat</span><span class="sh">'</span><span class="p">]</span> <span class="o">*</span> <span class="p">(</span><span class="n">num_doors</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span><span class="sh">'</span><span class="s">car</span><span class="sh">'</span><span class="p">]</span>

		<span class="c1"># shuffle the order of the choices
</span>        <span class="n">random</span><span class="p">.</span><span class="nf">shuffle</span><span class="p">(</span><span class="n">choices</span><span class="p">)</span>
        
        <span class="c1"># make a choice, i.e., select a door
</span>        <span class="n">initial_choice</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="nf">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">num_doors</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>
        
        <span class="c1"># now Monty opens a door with a goat
</span>        <span class="c1"># we need to find the doors with goats behind them so we filter out the door
</span>        <span class="c1"># if it has the car behind it it has a goat behind it
</span>        <span class="n">remaining_choices</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">num_doors</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">initial_choice</span> <span class="ow">and</span> <span class="n">choices</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">goat</span><span class="sh">'</span><span class="p">]</span>

		<span class="c1"># pick one of these doors with a goat behind it
</span>        <span class="n">monty_opens</span> <span class="o">=</span> <span class="n">random</span><span class="p">.</span><span class="nf">choice</span><span class="p">(</span><span class="n">remaining_choices</span><span class="p">)</span>
        
        <span class="c1"># simulate sticking with the initial choice
</span>        <span class="n">stick_wins</span> <span class="o">+=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">choices</span><span class="p">[</span><span class="n">initial_choice</span><span class="p">]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">car</span><span class="sh">'</span> <span class="k">else</span> <span class="mi">0</span>
        
        <span class="c1"># simulate switching to the other unopened door
</span>        <span class="n">switch_choices</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">num_doors</span><span class="p">)</span> <span class="k">if</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">initial_choice</span> <span class="ow">and</span> <span class="n">i</span> <span class="o">!=</span> <span class="n">monty_opens</span><span class="p">]</span>
        <span class="n">switch_wins</span> <span class="o">+=</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">choices</span><span class="p">[</span><span class="n">switch_choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="o">==</span> <span class="sh">'</span><span class="s">car</span><span class="sh">'</span> <span class="k">else</span> <span class="mi">0</span>

    <span class="k">return</span> <span class="n">stick_wins</span><span class="p">,</span> <span class="n">switch_wins</span>

<span class="c1"># set the number of Monty Hall simulations to run
</span><span class="n">num_simulations</span> <span class="o">=</span> <span class="mi">10000</span>

<span class="c1"># set the number of doors
</span><span class="n">num_doors</span> <span class="o">=</span> <span class="mi">5</span>

<span class="c1"># call the monty hall function
</span><span class="n">stick_wins</span><span class="p">,</span> <span class="n">switch_wins</span> <span class="o">=</span> <span class="nf">monty_hall_simulation</span><span class="p">(</span><span class="n">num_simulations</span><span class="p">,</span> <span class="n">num_doors</span><span class="p">)</span>

<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Sticking with the initial choice wins </span><span class="si">{</span><span class="n">stick_wins</span><span class="si">}</span><span class="s"> out of </span><span class="si">{</span><span class="n">num_simulations</span><span class="si">}</span><span class="s"> times.</span><span class="sh">"</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Switching doors wins </span><span class="si">{</span><span class="n">switch_wins</span><span class="si">}</span><span class="s"> out of </span><span class="si">{</span><span class="n">num_simulations</span><span class="si">}</span><span class="s"> times.</span><span class="sh">"</span><span class="p">)</span>
</pre></table></code></div></div><p>We can now run the simulation for different numbers of doors. The barplot below summarises the probabilities of winning given different numbers of doors for both the switching and sticking strategies.</p><p><a href="/assets/img/monty_hall_n_doors.png" class="popup img-link shimmer"><img src="/assets/img/monty_hall_n_doors.png" alt="Desktop View" loading="lazy"></a></p><p>These results show that it is <strong>always</strong> the best option to switch regardless of the number of doors, but the probability of winning when switching <strong>decreases</strong> as the number of doors increases, which is intuitive as there are more doors with goats behind them.</p><p>We can see that the probability of winning when sticking converges to \(1/n\) and the probability of winning when switching converges to \((n-1)/(n(n-2))\) where \(n\) is the number of doors. This is in agreement with the exact mathematical result.</p><p><strong>Conclusion:</strong></p><p>The Monty Hall problem appears deceptively simple, yet its solution is slightly more profound than one may first think. The conversation around this problem is normally centred around the mathematicla and statistical derivation but in this post we used Python to simulate and explore the problem, demonstrating that switching doors increases the chances of winning regardless of the number of doors to be opened.</p><p>The code is available through colab using the link at the top of this post, or just copy and paste it wherever you fancy. Feel free to play around with it; adjust the number of simulations, doors or add in a different situation where \(k\) doors are opened by Monty Hall or even add two prizes.</p></div><div class="post-tail-wrapper text-muted"><div class="post-tags"> <i class="fa fa-tags fa-fw me-1"></i> <a href="/tags/science/" class="post-tag no-text-decoration" >science</a> <a href="/tags/mathematics/" class="post-tag no-text-decoration" >mathematics</a> <a href="/tags/programming/" class="post-tag no-text-decoration" >programming</a> <a href="/tags/chemistry/" class="post-tag no-text-decoration" >chemistry</a> <a href="/tags/physics/" class="post-tag no-text-decoration" >physics</a> <a href="/tags/length/" class="post-tag no-text-decoration" >length</a> <a href="/tags/monty/" class="post-tag no-text-decoration" >Monty</a> <a href="/tags/hall/" class="post-tag no-text-decoration" >Hall</a></div><div class=" post-tail-bottom d-flex justify-content-between align-items-center mt-5 pb-2 " ><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper d-flex align-items-center"> <span class="share-label text-muted">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=T%3ET:%20Behind%20the%20Doors%20of%20the%20Monty%20Hall%20Puzzle%20-%20Dr%20Adam%20Luke%20Baskerville&url=https%3A%2F%2Fadambaskerville.github.io%2Fposts%2FMontyHall%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Twitter" aria-label="Twitter"> <i class="fa-fw fa-brands fa-square-x-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=T%3ET:%20Behind%20the%20Doors%20of%20the%20Monty%20Hall%20Puzzle%20-%20Dr%20Adam%20Luke%20Baskerville&u=https%3A%2F%2Fadambaskerville.github.io%2Fposts%2FMontyHall%2F" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Facebook" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Fadambaskerville.github.io%2Fposts%2FMontyHall%2F&text=T%3ET:%20Behind%20the%20Doors%20of%20the%20Monty%20Hall%20Puzzle%20-%20Dr%20Adam%20Luke%20Baskerville" target="_blank" rel="noopener" data-bs-toggle="tooltip" data-bs-placement="top" title="Telegram" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <button id="copy-link" aria-label="Copy link" class="btn small" data-bs-toggle="tooltip" data-bs-placement="top" title="Copy link" data-title-succeed="Link copied successfully!" > <i class="fa-fw fas fa-link pe-none fs-6"></i> </button> </span></div></div></div></article></main><aside aria-label="Panel" id="panel-wrapper" class="col-xl-3 ps-2 text-muted"><div class="access"><section id="access-lastmod"><h2 class="panel-heading">Recently Updated</h2><ul class="content list-unstyled ps-0 pb-1 ms-1 mt-2"><li class="text-truncate lh-lg"> <a href="/posts/am1bcc_speedup/">T>T: Turbocharging AM1BCC Charge Calculations</a><li class="text-truncate lh-lg"> <a href="/posts/BuffonNeedle/">T>T: Buffon's Needle: Estimating π using Toothpicks</a><li class="text-truncate lh-lg"> <a href="/posts/HighPrecisionEigenvalues/">T>T: High-Precision Eigenvalue Computations Made Efficient in C++</a><li class="text-truncate lh-lg"> <a href="/posts/DearpyguiCompilation/">T>T: Compiling DearPyGui on Raspberry Pi 32-bit OS</a><li class="text-truncate lh-lg"> <a href="/posts/Introduction-post/">T>T: Introduction</a></ul></section><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/mathematics/">mathematics</a> <a class="post-tag btn btn-outline-primary" href="/tags/science/">science</a> <a class="post-tag btn btn-outline-primary" href="/tags/programming/">programming</a> <a class="post-tag btn btn-outline-primary" href="/tags/mathematics/">Mathematics</a> <a class="post-tag btn btn-outline-primary" href="/tags/programming/">Programming</a> <a class="post-tag btn btn-outline-primary" href="/tags/science/">Science</a> <a class="post-tag btn btn-outline-primary" href="/tags/python/">python</a> <a class="post-tag btn btn-outline-primary" href="/tags/chemistry/">chemistry</a> <a class="post-tag btn btn-outline-primary" href="/tags/matplotlib/">matplotlib</a> <a class="post-tag btn btn-outline-primary" href="/tags/length/">length</a></div></section></div></aside></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4"><aside id="related-posts" aria-labelledby="related-label"><h3 class="mb-4" id="related-label">Further Reading</h3><nav class="row row-cols-1 row-cols-md-2 row-cols-xl-3 g-4 mb-4"><article class="col"> <a href="/posts/EnergyLevel/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1649286000" data-df="ll" > Apr 7, 2022 </time><h4 class="pt-0 my-2">T>T: LaTeX for Energy Level Transition Diagrams</h4><div class="text-muted"><p>The Problem During my PhD I worked with chemists who would need to create energy level transition diagrams for use in presentations and publications such as those seen below. ![Desk...</p></div></div></a></article><article class="col"> <a href="/posts/BondLength/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1645228800" data-df="ll" > Feb 19, 2022 </time><h4 class="pt-0 my-2">T>T: Surprising Behaviour in the Bond Length of the Hydrogen Molecular Ion</h4><div class="text-muted"><p>The inspiration for this post came from this paper by J. D. Dunitz and T. K. Ha titled: &quot;Non-empirical SCF Calculations on Hydrogen-like Molecules : the Effect of Nuclear Charge on Binding E...</p></div></div></a></article><article class="col"> <a href="/posts/BrownianMotion/" class="post-preview card h-100"><div class="card-body"> <time data-ts="1612828800" data-df="ll" > Feb 9, 2021 </time><h4 class="pt-0 my-2">T>T: Brownian Motion</h4><div class="text-muted"><p>Try the code yourself! Click the following button to launch an ipython notebook on Google Colab which implements the code developed in this post: What is Brownian Motion? Brownian motion named...</p></div></div></a></article></nav></aside><nav class="post-navigation d-flex justify-content-between" aria-label="Post Navigation"> <a href="/posts/BondLength/" class="btn btn-outline-primary" aria-label="Older" ><p>T>T: Surprising Behaviour in the Bond Length of the Hydrogen Molecular Ion</p></a> <a href="/posts/EnergyLevel/" class="btn btn-outline-primary" aria-label="Newer" ><p>T>T: LaTeX for Energy Level Transition Diagrams</p></a></nav><footer aria-label="Site Info" class=" d-flex flex-column justify-content-center text-muted flex-lg-row justify-content-lg-between align-items-lg-center pb-lg-3 " ><p>© <time>2025</time> <a href="https://twitter.com/SciBaskerville">Adam Baskerville</a>. <span data-bs-toggle="tooltip" data-bs-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author." >Some rights reserved.</span></p><p>Using the <a data-bs-toggle="tooltip" data-bs-placement="top" title="v7.3.0" href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener" >Chirpy</a> theme for <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a>.</p></footer></div></div><div id="search-result-wrapper" class="d-flex justify-content-center d-none"><div class="col-11 content"><div id="search-hints"><section><h2 class="panel-heading">Trending Tags</h2><div class="d-flex flex-wrap mt-3 mb-1 me-3"> <a class="post-tag btn btn-outline-primary" href="/tags/mathematics/">mathematics</a> <a class="post-tag btn btn-outline-primary" href="/tags/science/">science</a> <a class="post-tag btn btn-outline-primary" href="/tags/programming/">programming</a> <a class="post-tag btn btn-outline-primary" href="/tags/mathematics/">Mathematics</a> <a class="post-tag btn btn-outline-primary" href="/tags/programming/">Programming</a> <a class="post-tag btn btn-outline-primary" href="/tags/science/">Science</a> <a class="post-tag btn btn-outline-primary" href="/tags/python/">python</a> <a class="post-tag btn btn-outline-primary" href="/tags/chemistry/">chemistry</a> <a class="post-tag btn btn-outline-primary" href="/tags/matplotlib/">matplotlib</a> <a class="post-tag btn btn-outline-primary" href="/tags/length/">length</a></div></section></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><aside aria-label="Scroll to Top"> <button id="back-to-top" type="button" class="btn btn-lg btn-box-shadow"> <i class="fas fa-angle-up"></i> </button></aside></div><div id="mask" class="d-none position-fixed w-100 h-100 z-1"></div><aside id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-bs-animation="true" data-bs-autohide="false" ><div class="toast-header"> <button type="button" class="btn-close ms-auto" data-bs-dismiss="toast" aria-label="Close" ></button></div><div class="toast-body text-center pt-0"><p class="px-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></aside><script> document.addEventListener('DOMContentLoaded', () => { SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<article class="px-1 px-sm-2 px-lg-4 px-xl-0"><header><h2><a href="{url}">{title}</a></h2><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div></header><p>{content}</p></article>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="me-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); }); </script>
